'use strict';(function(g){function t(){F||(m=C(!1),u.pageViewId=m,G=0)}function O(c){var a=[];for(b in c)c.hasOwnProperty(b)&&a.push(b);a.sort();var b="";for(var f=0;f<a.length;++f){var d=a[f],e=c[d];b+=d;b+="\x3d";for(d=0;d<e.length;++d)b+=e[d],b+=",";b+=";"}c=unescape(encodeURIComponent(b));return P(c)}function n(){this.b=[]}function H(c,a){var b=!1,f=setTimeout(function(){b||(b=!0,c.apply(this,arguments))},a);return function(){b||(b=!0,clearTimeout(f),c.apply(this,arguments))}}function Q(){var c=
G++;return m+c.toString(16)}function I(c,a,b,f,d){c=c+"\x3d"+a+"; path\x3d/; expires\x3d"+(new Date(f+1E3*b)).toUTCString()+"; max-age\x3d"+b;d&&(c+="; domain\x3d"+d);h.cookie=c}function J(c){return h.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+c+"\\s*\\\x3d\\s*([^;]*).*$)|^.*$"),"$1")||null}function K(){return g.innerHeight||h.documentElement.clientHeight||k().clientHeight||h.documentElement.offsetHeight||k().offsetHeight}function L(){return g.innerWidth||h.documentElement.clientWidth||k().clientWidth||
h.documentElement.offsetWidth||k().offsetWidth}function k(){return h.body||h.getElementsByTagName("body").item(0)}var h=g.document,y=g.navigator,r=function(){function c(){throw"Divolte could not initialize itself.";}var a=h.currentScript,b;if("undefined"===typeof a){a=h.getElementsByTagName("script");for(var f=new RegExp("^(:?.*/)?"+"divolte.js".replace(/[.*+?^${}()|[\]\\]/g,"\\$\x26")+"(:?[?#].*)?$"),d=a.length-1;0<=d;--d){var e=a.item(d).src;f.test(e)&&("undefined"===typeof b?b=e:c('multiple script elements found with src\x3d"\u2026/divolte.js"'))}}else b=
a.src;"undefined"===typeof b&&c('could not locate script with src\x3d".../divolte.js"');return b}(),R=r.substr(0,1+r.lastIndexOf("/")),D=g.screen.availWidth,E=g.screen.availHeight,S=function(){var c=[0,10,20,5,15,16,1,11,21,6,7,17,2,12,22,23,8,18,3,13,14,24,9,19,4],a=[1,32898,32906,2147516416,32907,2147483649,2147516545,32777,138,136,2147516425,2147483658,2147516555,139,32905,32771,32770,128,32778,2147483658,2147516545,32896],b=[0,1,30,28,27,4,12,6,23,20,3,10,11,25,7,9,13,15,21,8,18,2,29,24,14];return function(f){var d,
e=[];for(d=0;25>d;d+=1)e[d]=0;if(15===f.length%16)f+="\u8001";else{for(f+="\u0001";15!==f.length%16;)f+="\x00";f+="\u8000"}for(var g=0;g<f.length;g+=16){for(d=0;16>d;d+=2)e[d/2]^=f.charCodeAt(g+d)+65536*f.charCodeAt(g+d+1);for(var h=0;22>h;h+=1){var l=[];for(d=0;5>d;d+=1)l[d]=e[d]^e[d+5]^e[d+10]^e[d+15]^e[d+20];var p=[];for(d=0;5>d;d+=1){var z=l[(d+1)%5];p[d]=l[(d+4)%5]^(z<<1|z>>>31)}l=[];for(d=0;25>d;d+=1){z=e[d]^p[d%5];var M=b[d];l[c[d]]=z<<M|z>>>32-M}for(d=0;5>d;d+=1)for(p=0;25>p;p+=5)e[p+d]=l[p+
d]^~l[p+(d+1)%5]&l[p+(d+2)%5];e[0]^=a[h]}}f=[];for(d=0;8>d;++d)g=e[d],f.push(g&255,g>>>8,g>>>16,g>>>24);return f}}(),P=function(){function c(a,b){var c=b&65535;return((b-c)*a|0)+(c*a|0)|0}return function(a,b){var f=a.length;b="undefined"!==typeof b?b:0;for(var d=f&-4,e,g=0;g<d;g+=4)e=a.charCodeAt(g)&255|(a.charCodeAt(g+1)&255)<<8|(a.charCodeAt(g+2)&255)<<16|(a.charCodeAt(g+3)&255)<<24,e=c(e,3432918353),e=(e&131071)<<15|e>>>17,e=c(e,461845907),b^=e,b=(b&524287)<<13|b>>>19,b=5*b+3864292196|0;e=0;switch(f%
4){case 3:e=(a.charCodeAt(d+2)&255)<<16;case 2:e|=(a.charCodeAt(d+1)&255)<<8;case 1:e|=a.charCodeAt(d)&255,e=c(e,3432918353),e=c((e&131071)<<15|e>>>17,461845907),b^=e}a=b^f;a=c(a^a>>>16,2246822507);a=c(a^a>>>13,3266489909);return a^a>>>16}}(),C=function(){function c(){var a=L(),b=K(),c=y.mimeTypes;if(c){var d="plugins:";for(var f=0,m=e.length;f<m;++f)d+=e[f]in c?"1":"0"}else d="";c=y.userAgent||"";f=y.platform||"";m=y.language||"";var n=y.systemLanguage||"",r=y.userLanguage||"",t=D?D.toString(36):
"",u=E?E.toString(36):"",v=a?a.toString(36):"";a=b?a.toString(36):"";if("ActiveXObject"in g){b="activex:";for(var q=0,w=h.length;q<w;++q){var x=h[q];try{var k=new ActiveXObject(x);b+="1";"getVersions"in k?b+="("+k.getVersions()+")":"getVariable"in k&&(b+="("+k.getVariable("$version")+")")}catch(U){b+="0"}}}else b="";return[c,f,m,n,r,t,u,v,a,d,b]}var a=Math,b=g.crypto||g.msCrypto,f="undefined"!==typeof b&&"undefined"!==typeof b.getRandomValues,d=f?function(a){a=new Uint8Array(a);b.getRandomValues(a);
return a}:function(b){for(var c=Array(b),d=0;d<b;++d)c[d]=a.floor(256*a.random());return c},e="application/pdf video/quicktime video/x-msvideo audio/x-pn-realaudio-plugin audio/mpeg3 application/googletalk application/x-mplayer2 application/x-director application/x-shockwave-flash application/x-java-vm application/x-googlegears application/x-silverlight".split(" "),h=["ShockwaveFlash.ShockwaveFlash.1","AcroPDF.PDF","AgControl.AgControl","QuickTime.QuickTime"],m=(new Date).getTime();return function(a){var b=
(new Date).getTime().toString(36);for(var e=g.location.href||"",h=d(32),l="",k=0;k<h.length;++k)l+=String.fromCharCode(h[k]);b=[b,e,l];f||b.push.apply(b,c());b=S(b.join(""));e="";h=0;for(l=b.length;h<l;++h)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxzy0123456789~_".charAt(b[h]&63);f||(e+="!");b=e;return"0:"+(a?m.toString(36)+":"+b:b)}}(),v=J("_dvp"),q=J("_dvs"),m=function(c){var a=c.indexOf("#");c=-1!==a?c.substring(a+1):null;if(null!==c&&-1!==c.indexOf("/"))throw"DVT not initialized correctly; page view ID may not contain a slash ('/').";
return c}(r),A=!v,B=!q,F=!!m;A&&(v=C(!0));B&&(q=C(!0));var G=0;n.prototype.g=function(c){var a=this.b;a.push(c);1===a.length&&this.m()};n.prototype.m=function(){var c=this.b[0];switch(typeof c){case "string":this.o(c);break;case "function":this.u(c);break;default:this.a()}};n.prototype.o=function(c){var a=this,b=new Image(1,1),f=H(function(){a.a()},750);b.onload=f;b.onerror=f;b.src=R+"event?"+c};n.prototype.u=function(c){c();this.a()};n.prototype.a=function(){var c=this.b;c.shift();0<c.length&&this.m()};
var N=new n,T=function(){function c(){this.a="";this.g=null}c.prototype.K=function(){this.b("(")};c.prototype.H=function(){this.g=null;this.b(")")};c.prototype.J=function(){this.b("a")};c.prototype.G=function(){this.b(".")};c.prototype.I=function(a){this.g=a};c.prototype.b=function(a,b){this.a+=a;null!==this.g&&(this.a+=c.a(this.g),this.a+="!",this.g=null);b&&(this.a+=b)};c.a=function(){var a=/[~!]/g;return function(b){return b.replace(a,"~$\x26")}}();c.prototype.F=function(a){this.b("s",c.a(a)+"!")};
c.prototype.C=function(a){if(isFinite(a)){var b=a===Math.floor(a)?a.toString(36):null,c=a.toExponential();a=String(a);null!==b&&b.length<=c.length&&b.length<=a.length?this.b("d",b+"!"):this.b("j",(c.length<a.length?c:a)+"!")}else this.encode(null,!1)};c.prototype.o=function(a){this.b(a?"t":"f")};c.prototype.B=function(){this.b("n")};c.prototype.m=function(a){this.J();for(var b=0;b<a.length;++b)this.encode(a[b],!0);this.G()};c.prototype.u=function(){function a(a,c){for(c=c.toString();c.length<a;)c=
"0"+c;return c}return function(b){this.encode(isFinite(b.valueOf())?b.getUTCFullYear()+"-"+a(2,b.getUTCMonth()+1)+"-"+a(2,b.getUTCDate())+"T"+a(2,b.getUTCHours())+":"+a(2,b.getUTCMinutes())+":"+a(2,b.getUTCSeconds())+"."+a(3,b.getUTCMilliseconds())+"Z":null,!1)}}();c.prototype.A=function(a){this.K();for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(this.I(b),this.encode(a[b],!1));this.H()};c.prototype.D=function(a,b){if(null===a)this.B();else if("function"===typeof a.toJSON)this.encode(a.toJSON(),
b);else switch(Object.prototype.toString.call(a)){case "[object Array]":this.m(a);break;case "[object Date]":this.u(a);break;default:this.A(a)}};c.prototype.encode=function(a,b){switch(typeof a){case "string":this.F(a);break;case "number":this.C(a);break;case "boolean":this.o(a);break;case "object":this.D(a,b);break;case "undefined":b&&this.encode(null,!1);break;default:throw"Cannot encode of type: "+typeof a;}};c.b=function(a){var b=new c;b.encode(a,!1);a=b.a;return""!==a?a:void 0};return c.b}(),
u={partyId:v,sessionId:q,pageViewId:m,isNewPartyId:A,isFirstInSession:B,isServerPageView:F,signal:function(c,a){null===m&&t();if(c){var b=Q();var f=h.referrer,d=(new Date).getTime();c={p:v,s:q,v:m,e:b,c:d,n:A?"t":"f",f:B?"t":"f",l:g.location.href,r:f?f:void 0,i:D,j:E,k:g.devicePixelRatio,w:L(),h:K(),t:c};var e="",k={};f=function(a,b){0<e.length&&(e+="\x26");var c=k[a];"undefined"===typeof c&&(c=[],k[a]=c);c.push(b);e+=a+"\x3d"+encodeURIComponent(b)};for(var n in c)if(c.hasOwnProperty(n)){var l=c[n];
switch(typeof l){case "undefined":break;case "number":f(n,l.toString(36));break;default:f(n,l)}}"undefined"!==typeof a&&f("u",T(a));B=A=!1;I("_dvs",q,1800,d,"");I("_dvp",v,63072E3,d,"");f("x",O(k).toString(36));N.g(e)}else b=null;return b},whenCommitted:function(c,a){"undefined"!==typeof a&&(c=H(c,a));N.g(c)}};if("object"!==typeof g.divolte){"function"===typeof g.define&&g.define.amd?g.define(function(){return u}):"undefined"!==typeof g.module&&g.module.exports?g.module.exports=u:g.divolte=u;if("undefined"!==
typeof h.hidden){var w="hidden";var x="visibilitychange"}else"undefined"!==typeof h.mozHidden?(w="mozHidden",x="mozvisibilitychange"):"undefined"!==typeof h.msHidden?(w="msHidden",x="msvisibilitychange"):"undefined"!==typeof h.webkitHidden&&(w="webkitHidden",x="webkitvisibilitychange");h[w]?h.addEventListener&&h.removeEventListener?h.addEventListener(x,function a(){null===m&&!1===h[w]&&t();null!==m&&h.removeEventListener(x,a)}):t():t();"onpageshow"in g&&"onpagehide"in g&&g.addEventListener&&g.removeEventListener?
g.addEventListener("pagehide",function b(){g.removeEventListener("pagehide",b);g.addEventListener("pageshow",function(){t()})}):(r=g.history)&&typeof("undefined"!==r.navigationMode)&&(r.navigationMode="compatible")}return u})("undefined"!==typeof window?window:this);